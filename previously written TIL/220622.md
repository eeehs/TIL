## 널널한 개발자 정리 6월 22일


1. 네트워크를 배우려면 OSI 7 Layer를 포기해라(우선은 공부하지말고 나중에..)
    - Socket..?
        - TCP를 User mode 어플리케이션 프로세스가 접근할 수 있도록 파일형태로 추상화 한 인터페이스가 소켓인 것
        ⇒ 프로그램이 네트워크에서 데이터를 통신할 수 있도록 연결해주는 연결부 
        데이터를 통신할 수 있도록 해주는 연결부이기 때문에 통신할 두 프로그램 모두 소켓이 생성되어야한다.
    - **식별자 구분**
        - 1계층: Access - MAC
        - 2계층: Network - IP 주소
        - 3계층: Transport - Port
2. MAC 주소, IP 주소 , Port 번호가 식별하는 것 
    
    
    Mac주소는 NIC(Network interface card) or 랜카드에 대한 식별자 
    IP는 HOST에 대한 식별자
    
    Host란 인터넷에 연결된 컴퓨터 
    
    IP 주소는 NIC하나에 여러개 연결(바인딩)될 수있다. 즉 컴퓨터 하나에 여러개의 IP를 부여 가능
    
    Port번호는 여러가지 형태로 식별의 대상이 달라진다. process, service,인터페이스 
    

1. HOST, Switch, Network 이들의 관계에 대해..
    
    
    HOST = Computer + Network
    
    Host는 크게 Network 이용주체(Endpoint)와 Network 자체(Switch)로 나눌 수 있음
    
    Endpoint의 예로는 peer, server, client
    Switch의 예로는 Router, F/W, IPS
    
    인터넷이란 Router와 DNS의 집합체이다.
    
    어떤 계층의 것을 스위칭 하느냐에 따라 “(그 계층) + 스위치” 라고 부른다.
    L3 스위치의 대표적인 것은 Router 이다. 
    
    공유기는 스위치인가? ⇒ 공유기는 스위치 역할 
    
2. IPv4 주소 체계에 대한 암기사항
    - IPv4: 주소길이 - 32bit 대략 43억개 정도의 주소를 가짐
    - IPv6: 128bit
    
    ip는 호스트에 대한 식별자 
    
    Netmask에 대한 개념, Netmask를 ip와 bit AND연산을 하면 network ID를 얻을 수 있고 나머지가 host id가 되는 것 
    
    **ipv4 + Netmask = CIDR** 이다. 
    
3. 개발자 입장에서 Port 번호 이해하기
    
    개발자 관점에서 Port번호는 Process에 대한 식별자 
    
    TCP/IP 포트 정보는 16bit이다. 
    
    그래서 경우의 수가 2의 16제곱이므로 0 ~ 65535이다. 
    
    따라서 포트의 갯수는 65535이다. 
    
    운영체제가 포트번호를 보고 프로세스를 식별
    
    OS 수준에서는 PID를 이용해 식별하지만 네트워크에서 수신한 정보를 받을 프로세스를 결정할 떄는 포트번호를 이용
    

1. Switch가 하는 일은 Switching이다. 
    - Network는 고속도로와 비슷하다.
    - Switch는 경로를 선택, 인터페이스 선택 역할을 한다.
    
    Router는 기본적으로 L3 일종
    
    선택에 대한 근거가 되는 이정표가 라우팅 테이블이다. 
    
    *** 패킷단위의 데이터가 라우터에 도착하면 스위칭을 하는데 그때 근거가 되는 것이 라우팅 테이블 
    
2. 네트워크에서 언급되는 데이터 단위 
    
    
    socket 데이터 단위 = Stream 
    
    TCP 데이터 단위 = Segment
    
    IP 데이터 단위 = Packet 
    
    H/W 수준의 데이터 단위 = Frame 
    
    Stream 데이터는 끝을 알 수 없는 일렬로 쭉 늘어진 데이터 (ex. 유튜브스트리밍을 생각하면 이해가 쉽다.)
    그것을 네트워크로 보낼 때는 분해가 일어나는데 그것을 세그멘테이션이라고 한다. 분해된 짤려진 쪼가리 하나를 세그먼트라고한다. 
    그것을 인터넷환경에서 전송가능한 것으로 만드는 것이 패킷이다. 패킷을 실어나를 때는 프레임이라는 것으로 옮긴다. 
    
    세그멘테이션 된 데이터 길이의 최대 크기 MSS(멕시멈 세크먼트 사이즈) 
    
    MSS는 MTU(맥시멈 트랜스폴트 유닛,패킷)사이즈 이하의 크기를 가짐
    
    MTU사이즈 최대는 1500bytes 
    
    잘개 분해되어서 날아간 패킷은 프레임이라는 것으로 인켑슐레이션 된다. 
    
    **세그먼트로 만들 때만 잘리는 것이고 그 다음부터는 포장을 한 번씩 더 하는 것 
    
3. 네트워크 인터페이스 선택 원리와 기준 
    
    인터페이스 선택 과정에  다양한 최적화 경로 선택 방법이 있겠지만, 그 중 대표적인 것이 Metric(비용)이 작은 경로를 선택 
    
    구체적인 메트릭 값을 결정하는데 정해진 표준규칙은 없고 제조사가 각자의 기준으로 정하는 것